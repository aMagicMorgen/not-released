# Презентация класса `TailwindStyle`

## Назначение класса

Класс `TailwindStyle` - это инструмент для оптимизации HTML-документов, использующих Tailwind CSS. Его основная задача:

1. **Сбор всех классов Tailwind** из атрибутов `class` в HTML-документе
2. **Уникализация и замена** длинных цепочек классов на короткие идентификаторы
3. **Генерация CSS-шаблона** с маппингом оригинальных классов на сокращенные версии

## Как это работает

### Основной алгоритм работы:

1. **Загрузка контента**:
   - Принимает на вход HTML-файл или строку с HTML-кодом
   - Определяет тип входных данных автоматически

2. **Защита блоков кода**:
   - Особое внимание уделяет содержимому `<pre><code>` для сохранения оригинального форматирования
   - Использует base64-кодирование для защиты спецсимволов

3. **Обработка классов**:
   ```php
   // Пример обработки:
   // Было: <div class="bg-blue-500 text-white p-4 rounded-lg">
   // Стало: <div class="tw-0">
   ```
   - Нормализует строки классов (удаляет лишние пробелы)
   - Создает уникальные короткие идентификаторы (tw-0, tw-1...)

4. **Генерация маппинга**:
   ```css
   <!-- mcss
   .tw-0 {bg-blue-500 text-white p-4 rounded-lg}
   .tw-1 {px-4 py-2 rounded hover:bg-gray-100}
   /mcss -->
   ```
   - Сохраняет соответствие в комментарии HTML

## Преимущества подхода

1. **Упрощение редактирования**:
   - Все классы собраны в одном месте
   - Легко находить и изменять повторяющиеся комбинации

2. **Подготовка к дальнейшей обработке**:
   ```javascript
   // Будущая интеграция с TailwindStyler
   module.exports = {
     content: [
       './*.html',
       './*.js'
     ],
     safelist: [
       'tw-0',
       'tw-1'
     ]
   }
   ```
   - Класс готовит данные для генерации конфига Tailwind

3. **Сохранение семантики**:
   - Оригинальное содержимое `<pre><code>` не затрагивается
   - Все спецсимволы и форматирование сохраняются

## Пример использования

```php
// Обработка файла
$processor = new TailwindStyle('page.html');
$result = $processor->process();

// Результат:
// 1. page-mcss.html - с оптимизированными классами
// 2. page.css - с маппингом классов
```

## Будущие доработки

1. **Интеграция с TailwindStyler**:
   - Подготовка данных для генерации `tailwind.config.js`
   - Автоматическое создание safelist для сокращенных классов

2. **Оптимизация производительности**:
   - Кэширование уже обработанных комбинаций классов
   - Пакетная обработка нескольких файлов

3. **Расширенная поддержка**:
   - Работа с JavaScript-файлами (Vue, React)
   - Поддержка произвольных атрибутов (tw-class, data-tw)

Класс `TailwindStyle` - это первый шаг в создании мощного инструмента для работы с Tailwind CSS, который значительно упростит поддержку больших проектов.
