> –¢–µ–ø–µ—Ä—å –≤—Å–ø–æ–º–Ω–∏ –Ω–∞—à index.json –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤—Å–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º.
1. –ù—É–∂–Ω–æ –ø—Ä–∏–¥—É–º–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –æ–±—Ä–µ–∑–∞—Ç—å —ç—Ç–æ—Ç –º–∞—Å—Å–∏–≤ –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ ?dir=PHP&file=–ø—É—Ç—å/–∫/ —Ñ–∞–π–ª—É.—Ö—Ö –ø–æ —É—Ä–æ–≤–Ω—é PHP –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ
–Ø –ø–æ–Ω—è–ª –≤–∞—à—É –∑–∞–¥–∞—á—É. –í–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –º–∞—Å—Å–∏–≤ –∏–∑ `index.json` –ø–æ –¥–≤—É–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º:  
- `dir` - –∏–º—è –ø–∞–ø–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `PHP`)  
- `file` - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–π –ø–∞–ø–∫–∏  

–í–æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:  

---

### **1. –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ `index.json` –ø–æ `dir` –∏ `file`**  
```php
/**
 * –§–∏–ª—å—Ç—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤ index.json –ø–æ –ø–∞–ø–∫–µ –∏ —Ñ–∞–π–ª—É
 * @param string $dirName –ò–º—è –ø–∞–ø–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "PHP")
 * @param string|null $filePath –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "OOP/classes.php")
 * @return array –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –ø–æ–¥–ø–∞–ø–∫–∞–º–∏
 */
function filterIndexByDirAndFile(string $dirName, ?string $filePath = null): array {
    $indexData = loadContentFromJson('index.json');
    if (empty($indexData)) {
        return [];
    }

    $filteredData = [];
    $baseDir = __DIR__ . DIRECTORY_SEPARATOR . $dirName;

    foreach ($indexData as $item) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–π –ø–∞–ø–∫–µ $dirName
        if (strpos($item['path'], $baseDir) === 0) {
            $relativePath = str_replace($baseDir . DIRECTORY_SEPARATOR, '', $item['path']);

            // –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω file=–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É.—Ö—Ö, –∏—â–µ–º —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
            if ($filePath !== null) {
                if ($relativePath === $filePath) {
                    $filteredData[] = $item;
                    break; // –ù–∞—à–ª–∏ —Ñ–∞–π–ª ‚Äî –¥–∞–ª—å—à–µ –Ω–µ –∏—â–µ–º
                }
            } else {
                // –ò–Ω–∞—á–µ –¥–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏ –≤–Ω—É—Ç—Ä–∏ $dirName
                $filteredData[] = $item;
            }
        }
    }

    return $filteredData;
}
```

---

### **2. –û–±—Ä–∞–±–æ—Ç–∫–∞ GET-–∑–∞–ø—Ä–æ—Å–∞**  
```php
$dirName = $_GET['dir'] ?? '';
$filePath = $_GET['file'] ?? null;

if (empty($dirName)) {
    die("–£–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä ?dir=–∏–º—è_–ø–∞–ø–∫–∏");
}

$filteredContent = filterIndexByDirAndFile($dirName, $filePath);

header('Content-Type: application/json');
echo json_encode([
    'dir' => $dirName,
    'file' => $filePath,
    'content' => $filteredContent
], JSON_PRETTY_PRINT | JSON_UNESCAPED_UNICODE);
```

---

### **3. –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã**  

#### **–ó–∞–ø—Ä–æ—Å 1: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `PHP`**  
```http
GET /index.php?dir=PHP
```
**–û—Ç–≤–µ—Ç:**  
```json
{
    "dir": "PHP",
    "file": null,
    "content": [
        {
            "path": "/var/www/PHP/functions.php",
            "name": "functions.php"
        },
        {
            "path": "/var/www/PHP/OOP/classes.php",
            "name": "classes.php"
        }
    ]
}
```

#### **–ó–∞–ø—Ä–æ—Å 2: –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª `OOP/classes.php` –∏–∑ –ø–∞–ø–∫–∏ `PHP`**  
```http
GET /index.php?dir=PHP&file=OOP/classes.php
```
**–û—Ç–≤–µ—Ç:**  
```json
{
    "dir": "PHP",
    "file": "OOP/classes.php",
    "content": [
        {
            "path": "/var/www/PHP/OOP/classes.php",
            "name": "classes.php"
        }
    ]
}
```

---

### **4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**  
#### **4.1. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø—É—Ç–µ–π**  
–ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª–æ–∂–Ω–∞—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `PHP/Frameworks/Laravel`), –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫:  
```php
if ($filePath !== null) {
    $fullPath = $baseDir . DIRECTORY_SEPARATOR . $filePath;
    foreach ($indexData as $item) {
        if ($item['path'] === $fullPath) {
            $filteredData[] = $item;
            break;
        }
    }
}
```

#### **4.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞**  
```php
if ($filePath !== null && empty($filteredData)) {
    http_response_code(404);
    die("–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω");
}
```

#### **4.3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**  
–ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ `indexPHP.json`, `indexPHP_OOP.json` –∏ —Ç. –¥.  

---

### **–ò—Ç–æ–≥**  
–¢–µ–ø–µ—Ä—å –≤–∞—à `index.php` —É–º–µ–µ—Ç:  
‚úÖ –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –ø–æ –ø–∞–ø–∫–µ (`?dir=PHP`)  
‚úÖ –ù–∞—Ö–æ–¥–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª (`?dir=PHP&file=–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É.—Ö—Ö`)  
‚úÖ –í–æ–∑–≤—Ä–∞—â–∞—Ç—å JSON —Å –Ω—É–∂–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏  

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —á—Ç–æ-—Ç–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å ‚Äî –ø–∏—à–∏—Ç–µ! üöÄ
