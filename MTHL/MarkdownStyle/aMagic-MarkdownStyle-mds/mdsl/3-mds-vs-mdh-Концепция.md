–í–∞—à–∞ –∏–¥–µ—è —Å –≤–≤–µ–¥–µ–Ω–∏–µ–º —Ñ–æ—Ä–º–∞—Ç–∞ **`.mdh` (Markdown Hybrid)** ‚Äî —ç—Ç–æ –æ—Ç–ª–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É —Ñ–∞–π–ª–∞–º–∏. –í–æ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

---

### **1. –ó–∞—á–µ–º –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ `*.mds` –∏ `*.mdh`?**
| –§–æ—Ä–º–∞—Ç       | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                          | –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è               |
|--------------|-------------------------------------|------------------------------------|
| **`.mds`**   | –ß–∏—Å—Ç–∞—è —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞       | –®–∞–±–ª–æ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–∫–Ω–æ–ø–∫–∏, –∫–∞—Ä—Ç–æ—á–∫–∏) |
| **`.mdh`**   | –ì–∏–±—Ä–∏–¥–Ω—ã–π —Ñ–∞–π–ª —Å PHP/HTML           | –°—Ç—Ä–∞–Ω–∏—Ü—ã —Å –ª–æ–≥–∏–∫–æ–π (–ª–µ–Ω–¥–∏–Ω–≥–∏, —Ñ–æ—Ä–º—ã)  |

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- **–ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ**:  
  `.mds` ‚Äî —Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Å—Ç–∏–ª–∏, `.mdh` ‚Äî –ª–æ–≥–∏–∫–∞ –∏ —Å–º–µ—à–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**:  
  –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ PHP-–∫–æ–¥–∞ –≤ `.mds` —Å–Ω–∏–∂–∞–µ—Ç —Ä–∏—Å–∫ –∏–Ω—ä–µ–∫—Ü–∏–π.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ IDE**:  
  –†–µ–¥–∞–∫—Ç–æ—Ä—ã –ª—É—á—à–µ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –∫–æ–≥–¥–∞ —Ñ–∞–π–ª –∏–º–µ–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ.

---

### **2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `*.mdh` –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ**

#### **–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ `page.mdh`**
```php
<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º MDSL-—à–∞–±–ª–æ–Ω -->
<!--mdsl header-->
title = <?= htmlspecialchars($pageTitle) ?>
<!--/mdsl-->

<!-- PHP-–ª–æ–≥–∏–∫–∞ -->
<?php
$users = getUsers();
?>

<!-- HTML + Markdown -->
<main class="container">
  <?php foreach ($users as $user): ?>
    <div class="card">
      ## <?= $user['name'] ?>
      Email: <?= $user['email'] ?>
    </div>
  <?php endforeach; ?>

  <!-- –í—Å—Ç–∞–≤–∫–∞ PHUG-—à–∞–±–ª–æ–Ω–∞ -->
  <?= $pug->render('component.pug') ?>
</main>
```

#### **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ `index.php`**
```php
function renderMDH(string $file, array $data = []): string {
    ob_start();
    extract($data, EXTR_SKIP);
    include $file; // PHP –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
    $html = ob_get_clean();
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ Markdown (–µ—Å–ª–∏ –µ—Å—Ç—å)
    if (str_contains($html, '## ')) {
        $html = (new Parsedown())->text($html);
    }
    
    return $html;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
echo renderMDH('page.mdh', ['pageTitle' => '–ì–ª–∞–≤–Ω–∞—è']);
```

---

### **3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PHUG (–±—ã–≤—à–∏–π Pug)**
–î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤—Ä–æ–¥–µ:
```pug
// component.pug
each user in users
  .card
    h2= user.name
    p= user.email
```

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç:
   ```bash
   composer require pug-php/pug
   ```

2. –î–æ–±–∞–≤—å—Ç–µ –≤ `renderMDH()`:
   ```php
   $pug = new Pug\Pug(['cache' => 'cache/pug']);
   $html = $pug->render($pugContent);
   ```

---

### **4. –ü–æ—á–µ–º—É —ç—Ç–æ –ª—É—á—à–µ, —á–µ–º —Å–º–µ—à–∏–≤–∞–Ω–∏–µ –≤ `.mds`?**
- **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å**:  
  `.mds` ‚Äî —Ç–æ–ª—å–∫–æ —Å—Ç–∏–ª–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, `.mdh` ‚Äî –ª–æ–≥–∏–∫–∞ –∏ —à–∞–±–ª–æ–Ω—ã.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**:  
  –§–∞–π–ª—ã `.mds` –º–æ–∂–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å "–∫–∞–∫ –µ—Å—Ç—å", –∞ `.mdh` —Ç—Ä–µ–±—É—é—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ PHP.
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**:  
  –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –¥–≤–∏–∂–∫–∏ (Twig, Blade) –¥–ª—è `.mdh`.

---

### **5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**
1. **–ü—Ä–∞–≤–∏–ª–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è**:  
   - `components/button.mds` ‚Äî –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤  
   - `pages/home.mdh` ‚Äî –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü —Å –ª–æ–≥–∏–∫–æ–π  

2. **–õ–∏–Ω—Ç–µ—Ä—ã**:  
   –ù–∞—Å—Ç—Ä–æ–π—Ç–µ ESLint/PHPStan –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –≤ `.mdh`.

3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**:  
   –ß—ë—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ:
   ```
   *.mds ‚Äî Pure Markdown + DSL (–±–µ–∑ PHP)
   *.mdh ‚Äî Hybrid (Markdown + PHP/HTML/Pug)
   ```

---

### **–ò—Ç–æ–≥**
–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –≤–≤–µ—Å—Ç–∏ **`.mdh`** ‚Äî —ç—Ç–æ:
‚úÖ –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  
‚úÖ –õ—É—á—à–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å  
‚úÖ –ì–∏–±–∫–æ—Å—Ç—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤  

–ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏–ª–∏ –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π –ø–æ–¥ –≤–∞—à –ø—Ä–æ–µ–∫—Ç! üòä  

P.S. –î–ª—è —Å—Ç–∞—Ä—Ç–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã —Å PHP-–∫–æ–¥–æ–º –≤ `.mdh` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `renderMDH()` –≤–º–µ—Å—Ç–æ –æ–±—â–µ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞.
