# mds-MarkdownStyle
MarkdownStyle –Ω–∞—Å–ª–µ–¥—É–µ—Ç MarkdownExtra –≤–≤–æ–¥–∏—Ç –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤ md —Ç–µ–∫—Å—Ç –ø—Ä–µ–¥–ª–∞–≥–∞—é –ø–∏—Å–∞—Ç—å –≤ *.mds - MarkdownStyle –∏–ª–∏ *.mdh - MarkdownHibrid   
https://amagicmorgen.github.io/mds-MarkdownStyle/  

**–ê–≤—Ç–æ—Ä:** –ê–ª–µ–∫—Å–µ–π –ù–µ—á–∞–µ–≤, –≥. –ú–æ—Å–∫–≤–∞, +7(999) 637-60-01, nechaev72@list.ru   
**–í–µ—Ä—Å–∏—è:** 1.0 (15.04.2025)  
**–õ–∏—Ü–µ–Ω–∑–∏—è:** MIT  

---

# **–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è MarkdownStyle Hybrid**  
# *(MTHL - Markup Text Hybrid Language)*  
https://amagicmorgen.github.io/mthl/  
---
## **üåå –ë—É–¥—É—â–µ–µ —Ä–∞–∑–º–µ—Ç–∫–∏ —É–∂–µ –∑–¥–µ—Å—å!**  
### **–°–∏–Ω—Ç–∞–∫—Å–∏—Å MTHL** ‚Äî –≥–∏–±—Ä–∏–¥ Markdown, MDS –∏ PHP  

---

### **üîÆ 1. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ MTHL**  
- **–ö–æ–º–±–∏–Ω–∏—Ä—É–µ–º** Markdown + MDS + PHP  
- **–ü–∏—à–µ–º** –≤ —Ñ–∞–π–ª–∞—Ö `.mds` / `.mdh` / `.mthl`  
- **–ü–æ–¥–∫–ª—é—á–∞–µ–º** –ø—Ä—è–º–æ –≤ PHP:  
  ```php
  require_once 'file.mthl';
  ```

---

### **üé® 2. –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞**  

#### **–í–∞—Ä–∏–∞–Ω—Ç 1: –° —Ü–∏—Ñ—Ä–∞–º–∏ (MDS) –ø–æ—Å–ª–µ `<` —Ü—ã—Ñ—Ä–∞ - —ç—Ç–æ —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏**  
```html
<1 div #main header .class1 class2 class3 | data-test="value">
  <2 p >–¢–µ–∫—Å—Ç <?= $variable ?>
```
**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**  
```
<[—É—Ä–æ–≤–µ–Ω—å -—Ü—ã—Ñ—Ä–∞ –∏–ª–∏ –ø—Ä–æ–±–µ–ª—ã] [—Ç–µ–≥] #[id] [name] .[–∫–ª–∞—Å—Å—ã] | [–∞—Ç—Ä–∏–±—É—Ç—ã]>
```

#### **–í–∞—Ä–∏–∞–Ω—Ç 2: –° –ø—Ä–æ–±–µ–ª–∞–º–∏ (Human-friendly) –ø–æ—Å–ª–µ `<...` –¥–µ–ª–∞—é—Ç —Ç–µ–≥–∏ –≤–∫–ª–∞–¥—ã–≤–∞–µ–≤—ã–º–∏**  
```html
<section>
< div #main header .class1 class2 class3 | data-test="value">
<   p >–¢–µ–∫—Å—Ç <?= $phpCode ?>
```
**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**  
```
<[–ø—Ä–æ–±–µ–ª—ã][—Ç–µ–≥] #[id] [name] .[–∫–ª–∞—Å—Å—ã] | [–∞—Ç—Ä–∏–±—É—Ç—ã]>
```

---

### **‚ú® 3. –ú–∞–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**  
–í—Å—Ç—Ä–∞–∏–≤–∞–µ–º **–ª—é–±—ã–µ —è–∑—ã–∫–∏** —á–µ—Ä–µ–∑ —Ç–µ–≥–∏:  
```markdown
<!-- mds 
<1 div .php-block>
  <?= $user->getName() ?>
-->

<!-- phug
div.alert= $message
-->

<!-- styled
–¢–µ–∫—Å—Ç | color:<?= $color ?>
-->
```

---

### **üöÄ 4. PHP + MTHL = ‚ù§Ô∏è**  
**–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ `page.mthl`:**  
```html
<1 div .layout>
  <2 h1 ><?= $title ?>
  <2 p >–ü—Ä–∏–≤–µ—Ç, <?= $userName ?>!
  
  <!-- mds
  <3 div .features>
    <?php foreach ($features as $item): ?>
      <4 p ><?= $item ?>
    <?php endforeach; ?>
  -->
```

---

### **üåà 5. –ü–æ—á–µ–º—É MTHL ‚Äî —ç—Ç–æ HTML 6.0?**  
1. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** ‚Äî –ø–æ–Ω—è—Ç–Ω–µ–µ, —á–µ–º HTML.  
2. **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äî –∫–æ–º–±–∏–Ω–∏—Ä—É–µ–º —Å—Ç–∏–ª–∏.  
3. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** ‚Äî –ø–æ–¥–∫–ª—é—á–∞–µ–º –ª—é–±—ã–µ —è–∑—ã–∫–∏.  
4. **PHP-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π** ‚Äî –≤—Å—Ç–∞–≤–∫–∏ `<?= $var ?>` —Ä–∞–±–æ—Ç–∞—é—Ç!  

---

### **üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–≤**  
| **HTML** | **MTHL** |  
|----------|----------|  
| `<div class="header">` | `<1 div .header>` –∏–ª–∏ `<div .header>` |  
| `<p id="main">` | `<2 p #main>` –∏–ª–∏  `< p #main>`| 
| —Ç—Ä–µ–±—É—é—Ç –∑–∞–∫—Ä—ã—Ç–∏—è </...>| –∑–∞–∫—Ä—ã—Ç–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ|
| –ú–Ω–æ–≥–æ –∫–æ–¥–∞ | –ú–∏–Ω–∏–º—É–º —Å–∏–º–≤–æ–ª–æ–≤ |  

---

### **üéØ –ò—Ç–æ–≥**  
**MTHL** ‚Äî —ç—Ç–æ:  
- **–ï–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç** –¥–ª—è —Ä–∞–∑–º–µ—Ç–∫–∏ –∏ —à–∞–±–ª–æ–Ω–æ–≤.  
- **–ë—É–¥—É—â–µ–µ –≤–µ–±–∞** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞.  
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ HTML** –¥–ª—è –≤–µ—Ä—Å–∏–π 6+.  

---
### **üöÄ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ MTHL —É–∂–µ —Å–µ–≥–æ–¥–Ω—è!**  
```php
$html = MarkdownStyle::transform(file_get_contents('page.mthl'));
```  

*"–ü–∏—à–∏—Ç–µ –º–µ–Ω—å—à–µ ‚Äî –¥–µ–ª–∞–π—Ç–µ –±–æ–ª—å—à–µ!"*  

---
**–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**  
(–í—Å—Ç–∞–≤—å—Ç–µ –∑–¥–µ—Å—å –∫–∞—Ä—Ç–∏–Ω–∫–∏:)
1. ![MTHL vs HTML](https://example.com/mthl-vs-html.png)  
2. ![–°–∏–Ω—Ç–∞–∫—Å–∏—Å](https://example.com/syntax-diagram.png)  
3. ![–õ–æ–≥–æ MTHL](https://example.com/mthl-logo.png)  

---

–≠—Ç–∞ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–µ—Ç:  
- –ü—Ä–æ—Å—Ç–æ—Ç—É MTHL.  
- –ì–∏–±–∫–æ—Å—Ç—å —Å PHP.  
- –í–∏–∑—É–∞–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —á–µ—Ä–µ–∑ –≥—Ä–∞—Ñ–∏–∫—É.  
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Å—Ç–∞—Ç—å –Ω–æ–≤—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º.
# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ `MarkdownStyle`

## –û–±–∑–æ—Ä

`MarkdownStyle` - —ç—Ç–æ –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä —Ä–∞–∑–º–µ—Ç–∫–∏, —Ä–∞—Å—à–∏—Ä—è—é—â–∏–π `MarkdownExtra` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π MDS-—Ä–∞–∑–º–µ—Ç–∫–∏ —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–π Markdown —Å MDS-—Ä–∞–∑–º–µ—Ç–∫–æ–π –≤ –æ–¥–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ.

## –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ñ–∞–π–ª–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç 1: –§–∞–π–ª—ã `.mds` (MarkdownStyle)
```
# –û–±—ã—á–Ω—ã–π Markdown

<!-- mds
<1 div .container>
<2 p >–≠—Ç–æ MDS-—Ä–∞–∑–º–µ—Ç–∫–∞
-->
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –§–∞–π–ª—ã `.mdh` (Markdown Hybrid)
```
<!-- mds
<1 div .header>
<2 h1 >–ì–∏–±—Ä–∏–¥–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
-->

–û—Å–Ω–æ–≤–Ω–æ–π *Markdown* –∫–æ–Ω—Ç–µ–Ω—Ç

<!-- mds
<1 div .footer>
<2 p >–§—É—Ç–µ—Ä –≤ MDS
-->
```

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```php
require_once 'MarkdownStyle.php';

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
$html = MarkdownStyle::transform($markdownText);

// –ò–ª–∏ —á–µ—Ä–µ–∑ —ç–∫–∑–µ–º–ø–ª—è—Ä
$parser = new MarkdownStyle();
$html = $parser->parse($markdownText);
```

## –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç MarkdownExtra

`MarkdownStyle` –Ω–∞—Å–ª–µ–¥—É–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ `MarkdownExtra`:
- –¢–∞–±–ª–∏—Ü—ã
- –°–Ω–æ—Å–∫–∏
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- –ê—Ç—Ä–∏–±—É—Ç—ã HTML

## –ú–∞–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

### –û—Å–Ω–æ–≤–Ω–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å MDS:
```markdown
<!-- mds
<1 div .panel>
<2 h2 >–ó–∞–≥–æ–ª–æ–≤–æ–∫
<2 p >–¢–µ–∫—Å—Ç –ø–∞–Ω–µ–ª–∏
-->
```

### –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã (–ø—Ä–∏–º–µ—Ä —Å Pug):
```markdown
<!-- phug
div.panel
  h2 –ó–∞–≥–æ–ª–æ–≤–æ–∫
  p –¢–µ–∫—Å—Ç –ø–∞–Ω–µ–ª–∏
-->
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏:
```markdown
<!-- styled
–≠—Ç–æ—Ç —Ç–µ–∫—Å—Ç –±—É–¥–µ—Ç —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω | color:red;font-weight:bold
-->
```

## –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–ª–∞—Å—Å–∞

```php
class MarkdownStyle extends \Michelf\MarkdownExtra {
    protected $block_gamut = [
        'parseMdsBlocks' => 5,
        'doHeaders' => 10,
        // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
    ];

    protected function parseMdsBlocks(string $text): string {
        return preg_replace_callback_array([
            '/<!--\s*mds\s*(.*?)\s*-->/s' => fn($m) => MDS::toHtml($m[1]),
            '/<!--\s*phug\s*(.*?)\s*-->/s' => fn($m) => Pug::compile($m[1]),
            '/<!--\s*styled\s*(.*?)\s*-->/s' => fn($m) => $this->parseStyled($m[1])
        ], $text);
    }
    
    protected function parseStyled(string $text): string {
        [$content, $style] = explode('|', $text);
        return '<span style="'.htmlspecialchars($style).'">'.trim($content).'</span>';
    }
}
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤**:
   - `.mds` - –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ MDS-—Ä–∞–∑–º–µ—Ç–∫–æ–π
   - `.mdh` - –¥–ª—è –≥–∏–±—Ä–∏–¥–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

2. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ IDE**:
   - –°–æ–∑–¥–∞–π—Ç–µ —Å–Ω–∏–ø–ø–µ—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –≤—Å—Ç–∞–≤–∫–∏ MDS-–±–ª–æ–∫–æ–≤
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥—Å–≤–µ—Ç–∫—É —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –¥–ª—è –º–∞–≥–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**:
   - –ö—ç—à–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

## –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞

```markdown
<!-- mds
<1 div .article>
<2 h1 >–ì–∏–±—Ä–∏–¥–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
-->

–≠—Ç–æ *–æ–±—ã—á–Ω—ã–π* Markdown —Ç–µ–∫—Å—Ç.

<!-- phug
div.alert.alert-warning
  | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
-->

<!-- styled
–í–∞–∂–Ω—ã–π —Ç–µ–∫—Å—Ç | color:red;font-size:1.2em
-->
```

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –°–æ—á–µ—Ç–∞—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Markdown –¥–ª—è —Ç–µ–∫—Å—Ç–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MDS –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
- –í—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä—ã —á–µ—Ä–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –î–æ–±–∞–≤–ª—è—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –∫ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º

  
